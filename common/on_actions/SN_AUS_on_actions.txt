on_actions = {
	on_war = {
		effect = {
			if = {
				limit = {
					original_tag = AUS
					check_variable = { var = AUS_hungary_loyalty value = 30 compare = less_than }
					any_enemy_country = {
						strength_ratio = { 
							tag = AUS
							ratio > 1
						}
					}
				}
				HUN = {
					country_event = { days = 1 id = austria-hungary.1 }
				}
			}
		}
	}

	on_war_relation_added = {
		effect = {
			if = {
				limit = {
					FROM = {
						OR = {
							original_tag = AUS
							has_autonomy_state = KUK_cisleithanien
							has_autonomy_state = KUK_kondominium
							has_autonomy_state = KUK_transleithanien
						}
					}
				}
				every_country = {
					limit = {
						OR = {
							has_autonomy_state = KUK_cisleithanien
							has_autonomy_state = KUK_kondominium
							has_autonomy_state = KUK_transleithanien
						}
					}
					add_to_war = { targeted_alliance = FROM enemy = ROOT hostility_reason = ally }
				}
			}
			if = {
				limit = {
					ROOT = {
						OR = {
							original_tag = AUS
							has_autonomy_state = KUK_cisleithanien
							has_autonomy_state = KUK_kondominium
							has_autonomy_state = KUK_transleithanien
						}
					}
				}
				every_country = {
					limit = {
						OR = {
							has_autonomy_state = KUK_cisleithanien
							has_autonomy_state = KUK_kondominium
							has_autonomy_state = KUK_transleithanien
						}
					}
					add_to_war = { targeted_alliance = ROOT enemy = FROM hostility_reason = ally }
				}
			}	
		}
	}
}